<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>1</title>
  <style>
  @font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

  </style>
  <style>
  /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

  </style>
  <style>
  /* stylelint-disable font-family-no-missing-generic-family-keyword */
@font-face {
  font-family: 'KaTeX_AMS';
  src: url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'), url(fonts/KaTeX_AMS-Regular.woff) format('woff'), url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Caligraphic';
  src: url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Caligraphic';
  src: url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Fraktur';
  src: url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'), url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Fraktur';
  src: url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'), url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Bold.woff2) format('woff2'), url(fonts/KaTeX_Main-Bold.woff) format('woff'), url(fonts/KaTeX_Main-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Main-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Main-BoldItalic.ttf) format('truetype');
  font-weight: bold;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Italic.woff2) format('woff2'), url(fonts/KaTeX_Main-Italic.woff) format('woff'), url(fonts/KaTeX_Main-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Regular.woff2) format('woff2'), url(fonts/KaTeX_Main-Regular.woff) format('woff'), url(fonts/KaTeX_Main-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Math';
  src: url(fonts/KaTeX_Math-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Math-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Math-BoldItalic.ttf) format('truetype');
  font-weight: bold;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Math';
  src: url(fonts/KaTeX_Math-Italic.woff2) format('woff2'), url(fonts/KaTeX_Math-Italic.woff) format('woff'), url(fonts/KaTeX_Math-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Bold.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Bold.woff) format('woff'), url(fonts/KaTeX_SansSerif-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Italic.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Italic.woff) format('woff'), url(fonts/KaTeX_SansSerif-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'), url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Script';
  src: url(fonts/KaTeX_Script-Regular.woff2) format('woff2'), url(fonts/KaTeX_Script-Regular.woff) format('woff'), url(fonts/KaTeX_Script-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size1';
  src: url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size1-Regular.woff) format('woff'), url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size2';
  src: url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size2-Regular.woff) format('woff'), url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size3';
  src: url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size3-Regular.woff) format('woff'), url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size4';
  src: url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size4-Regular.woff) format('woff'), url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Typewriter';
  src: url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'), url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'), url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
.katex {
  font: normal 1.21em KaTeX_Main, Times New Roman, serif;
  line-height: 1.2;
  text-indent: 0;
  text-rendering: auto;
}
.katex * {
  -ms-high-contrast-adjust: none !important;
  border-color: currentColor;
}
.katex .katex-version::after {
  content: "0.15.2";
}
.katex .katex-mathml {
  /* Accessibility hack to only show to screen readers
         Found at: http://a11yproject.com/posts/how-to-hide-content/ */
  position: absolute;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 0;
  border: 0;
  height: 1px;
  width: 1px;
  overflow: hidden;
}
.katex .katex-html {
  /* \newline is an empty block at top level, between .base elements */
}
.katex .katex-html > .newline {
  display: block;
}
.katex .base {
  position: relative;
  display: inline-block;
  white-space: nowrap;
  width: -webkit-min-content;
  width: -moz-min-content;
  width: min-content;
}
.katex .strut {
  display: inline-block;
}
.katex .textbf {
  font-weight: bold;
}
.katex .textit {
  font-style: italic;
}
.katex .textrm {
  font-family: KaTeX_Main;
}
.katex .textsf {
  font-family: KaTeX_SansSerif;
}
.katex .texttt {
  font-family: KaTeX_Typewriter;
}
.katex .mathnormal {
  font-family: KaTeX_Math;
  font-style: italic;
}
.katex .mathit {
  font-family: KaTeX_Main;
  font-style: italic;
}
.katex .mathrm {
  font-style: normal;
}
.katex .mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
.katex .boldsymbol {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.katex .amsrm {
  font-family: KaTeX_AMS;
}
.katex .mathbb,
.katex .textbb {
  font-family: KaTeX_AMS;
}
.katex .mathcal {
  font-family: KaTeX_Caligraphic;
}
.katex .mathfrak,
.katex .textfrak {
  font-family: KaTeX_Fraktur;
}
.katex .mathtt {
  font-family: KaTeX_Typewriter;
}
.katex .mathscr,
.katex .textscr {
  font-family: KaTeX_Script;
}
.katex .mathsf,
.katex .textsf {
  font-family: KaTeX_SansSerif;
}
.katex .mathboldsf,
.katex .textboldsf {
  font-family: KaTeX_SansSerif;
  font-weight: bold;
}
.katex .mathitsf,
.katex .textitsf {
  font-family: KaTeX_SansSerif;
  font-style: italic;
}
.katex .mainrm {
  font-family: KaTeX_Main;
  font-style: normal;
}
.katex .vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.katex .vlist-r {
  display: table-row;
}
.katex .vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.katex .vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.katex .vlist > span > span {
  display: inline-block;
}
.katex .vlist > span > .pstrut {
  overflow: hidden;
  width: 0;
}
.katex .vlist-t2 {
  margin-right: -2px;
}
.katex .vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.katex .vbox {
  display: inline-flex;
  flex-direction: column;
  align-items: baseline;
}
.katex .hbox {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
}
.katex .thinbox {
  display: inline-flex;
  flex-direction: row;
  width: 0;
  max-width: 0;
}
.katex .msupsub {
  text-align: left;
}
.katex .mfrac > span > span {
  text-align: center;
}
.katex .mfrac .frac-line {
  display: inline-block;
  width: 100%;
  border-bottom-style: solid;
}
.katex .mfrac .frac-line,
.katex .overline .overline-line,
.katex .underline .underline-line,
.katex .hline,
.katex .hdashline,
.katex .rule {
  min-height: 1px;
}
.katex .mspace {
  display: inline-block;
}
.katex .llap,
.katex .rlap,
.katex .clap {
  width: 0;
  position: relative;
}
.katex .llap > .inner,
.katex .rlap > .inner,
.katex .clap > .inner {
  position: absolute;
}
.katex .llap > .fix,
.katex .rlap > .fix,
.katex .clap > .fix {
  display: inline-block;
}
.katex .llap > .inner {
  right: 0;
}
.katex .rlap > .inner,
.katex .clap > .inner {
  left: 0;
}
.katex .clap > .inner > span {
  margin-left: -50%;
  margin-right: 50%;
}
.katex .rule {
  display: inline-block;
  border: solid 0;
  position: relative;
}
.katex .overline .overline-line,
.katex .underline .underline-line,
.katex .hline {
  display: inline-block;
  width: 100%;
  border-bottom-style: solid;
}
.katex .hdashline {
  display: inline-block;
  width: 100%;
  border-bottom-style: dashed;
}
.katex .sqrt > .root {
  /* These values are taken from the definition of `\r@@t`,
             `\mkern 5mu` and `\mkern -10mu`. */
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.katex .sizing.reset-size1.size1,
.katex .fontsize-ensurer.reset-size1.size1 {
  font-size: 1em;
}
.katex .sizing.reset-size1.size2,
.katex .fontsize-ensurer.reset-size1.size2 {
  font-size: 1.2em;
}
.katex .sizing.reset-size1.size3,
.katex .fontsize-ensurer.reset-size1.size3 {
  font-size: 1.4em;
}
.katex .sizing.reset-size1.size4,
.katex .fontsize-ensurer.reset-size1.size4 {
  font-size: 1.6em;
}
.katex .sizing.reset-size1.size5,
.katex .fontsize-ensurer.reset-size1.size5 {
  font-size: 1.8em;
}
.katex .sizing.reset-size1.size6,
.katex .fontsize-ensurer.reset-size1.size6 {
  font-size: 2em;
}
.katex .sizing.reset-size1.size7,
.katex .fontsize-ensurer.reset-size1.size7 {
  font-size: 2.4em;
}
.katex .sizing.reset-size1.size8,
.katex .fontsize-ensurer.reset-size1.size8 {
  font-size: 2.88em;
}
.katex .sizing.reset-size1.size9,
.katex .fontsize-ensurer.reset-size1.size9 {
  font-size: 3.456em;
}
.katex .sizing.reset-size1.size10,
.katex .fontsize-ensurer.reset-size1.size10 {
  font-size: 4.148em;
}
.katex .sizing.reset-size1.size11,
.katex .fontsize-ensurer.reset-size1.size11 {
  font-size: 4.976em;
}
.katex .sizing.reset-size2.size1,
.katex .fontsize-ensurer.reset-size2.size1 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size2.size2,
.katex .fontsize-ensurer.reset-size2.size2 {
  font-size: 1em;
}
.katex .sizing.reset-size2.size3,
.katex .fontsize-ensurer.reset-size2.size3 {
  font-size: 1.16666667em;
}
.katex .sizing.reset-size2.size4,
.katex .fontsize-ensurer.reset-size2.size4 {
  font-size: 1.33333333em;
}
.katex .sizing.reset-size2.size5,
.katex .fontsize-ensurer.reset-size2.size5 {
  font-size: 1.5em;
}
.katex .sizing.reset-size2.size6,
.katex .fontsize-ensurer.reset-size2.size6 {
  font-size: 1.66666667em;
}
.katex .sizing.reset-size2.size7,
.katex .fontsize-ensurer.reset-size2.size7 {
  font-size: 2em;
}
.katex .sizing.reset-size2.size8,
.katex .fontsize-ensurer.reset-size2.size8 {
  font-size: 2.4em;
}
.katex .sizing.reset-size2.size9,
.katex .fontsize-ensurer.reset-size2.size9 {
  font-size: 2.88em;
}
.katex .sizing.reset-size2.size10,
.katex .fontsize-ensurer.reset-size2.size10 {
  font-size: 3.45666667em;
}
.katex .sizing.reset-size2.size11,
.katex .fontsize-ensurer.reset-size2.size11 {
  font-size: 4.14666667em;
}
.katex .sizing.reset-size3.size1,
.katex .fontsize-ensurer.reset-size3.size1 {
  font-size: 0.71428571em;
}
.katex .sizing.reset-size3.size2,
.katex .fontsize-ensurer.reset-size3.size2 {
  font-size: 0.85714286em;
}
.katex .sizing.reset-size3.size3,
.katex .fontsize-ensurer.reset-size3.size3 {
  font-size: 1em;
}
.katex .sizing.reset-size3.size4,
.katex .fontsize-ensurer.reset-size3.size4 {
  font-size: 1.14285714em;
}
.katex .sizing.reset-size3.size5,
.katex .fontsize-ensurer.reset-size3.size5 {
  font-size: 1.28571429em;
}
.katex .sizing.reset-size3.size6,
.katex .fontsize-ensurer.reset-size3.size6 {
  font-size: 1.42857143em;
}
.katex .sizing.reset-size3.size7,
.katex .fontsize-ensurer.reset-size3.size7 {
  font-size: 1.71428571em;
}
.katex .sizing.reset-size3.size8,
.katex .fontsize-ensurer.reset-size3.size8 {
  font-size: 2.05714286em;
}
.katex .sizing.reset-size3.size9,
.katex .fontsize-ensurer.reset-size3.size9 {
  font-size: 2.46857143em;
}
.katex .sizing.reset-size3.size10,
.katex .fontsize-ensurer.reset-size3.size10 {
  font-size: 2.96285714em;
}
.katex .sizing.reset-size3.size11,
.katex .fontsize-ensurer.reset-size3.size11 {
  font-size: 3.55428571em;
}
.katex .sizing.reset-size4.size1,
.katex .fontsize-ensurer.reset-size4.size1 {
  font-size: 0.625em;
}
.katex .sizing.reset-size4.size2,
.katex .fontsize-ensurer.reset-size4.size2 {
  font-size: 0.75em;
}
.katex .sizing.reset-size4.size3,
.katex .fontsize-ensurer.reset-size4.size3 {
  font-size: 0.875em;
}
.katex .sizing.reset-size4.size4,
.katex .fontsize-ensurer.reset-size4.size4 {
  font-size: 1em;
}
.katex .sizing.reset-size4.size5,
.katex .fontsize-ensurer.reset-size4.size5 {
  font-size: 1.125em;
}
.katex .sizing.reset-size4.size6,
.katex .fontsize-ensurer.reset-size4.size6 {
  font-size: 1.25em;
}
.katex .sizing.reset-size4.size7,
.katex .fontsize-ensurer.reset-size4.size7 {
  font-size: 1.5em;
}
.katex .sizing.reset-size4.size8,
.katex .fontsize-ensurer.reset-size4.size8 {
  font-size: 1.8em;
}
.katex .sizing.reset-size4.size9,
.katex .fontsize-ensurer.reset-size4.size9 {
  font-size: 2.16em;
}
.katex .sizing.reset-size4.size10,
.katex .fontsize-ensurer.reset-size4.size10 {
  font-size: 2.5925em;
}
.katex .sizing.reset-size4.size11,
.katex .fontsize-ensurer.reset-size4.size11 {
  font-size: 3.11em;
}
.katex .sizing.reset-size5.size1,
.katex .fontsize-ensurer.reset-size5.size1 {
  font-size: 0.55555556em;
}
.katex .sizing.reset-size5.size2,
.katex .fontsize-ensurer.reset-size5.size2 {
  font-size: 0.66666667em;
}
.katex .sizing.reset-size5.size3,
.katex .fontsize-ensurer.reset-size5.size3 {
  font-size: 0.77777778em;
}
.katex .sizing.reset-size5.size4,
.katex .fontsize-ensurer.reset-size5.size4 {
  font-size: 0.88888889em;
}
.katex .sizing.reset-size5.size5,
.katex .fontsize-ensurer.reset-size5.size5 {
  font-size: 1em;
}
.katex .sizing.reset-size5.size6,
.katex .fontsize-ensurer.reset-size5.size6 {
  font-size: 1.11111111em;
}
.katex .sizing.reset-size5.size7,
.katex .fontsize-ensurer.reset-size5.size7 {
  font-size: 1.33333333em;
}
.katex .sizing.reset-size5.size8,
.katex .fontsize-ensurer.reset-size5.size8 {
  font-size: 1.6em;
}
.katex .sizing.reset-size5.size9,
.katex .fontsize-ensurer.reset-size5.size9 {
  font-size: 1.92em;
}
.katex .sizing.reset-size5.size10,
.katex .fontsize-ensurer.reset-size5.size10 {
  font-size: 2.30444444em;
}
.katex .sizing.reset-size5.size11,
.katex .fontsize-ensurer.reset-size5.size11 {
  font-size: 2.76444444em;
}
.katex .sizing.reset-size6.size1,
.katex .fontsize-ensurer.reset-size6.size1 {
  font-size: 0.5em;
}
.katex .sizing.reset-size6.size2,
.katex .fontsize-ensurer.reset-size6.size2 {
  font-size: 0.6em;
}
.katex .sizing.reset-size6.size3,
.katex .fontsize-ensurer.reset-size6.size3 {
  font-size: 0.7em;
}
.katex .sizing.reset-size6.size4,
.katex .fontsize-ensurer.reset-size6.size4 {
  font-size: 0.8em;
}
.katex .sizing.reset-size6.size5,
.katex .fontsize-ensurer.reset-size6.size5 {
  font-size: 0.9em;
}
.katex .sizing.reset-size6.size6,
.katex .fontsize-ensurer.reset-size6.size6 {
  font-size: 1em;
}
.katex .sizing.reset-size6.size7,
.katex .fontsize-ensurer.reset-size6.size7 {
  font-size: 1.2em;
}
.katex .sizing.reset-size6.size8,
.katex .fontsize-ensurer.reset-size6.size8 {
  font-size: 1.44em;
}
.katex .sizing.reset-size6.size9,
.katex .fontsize-ensurer.reset-size6.size9 {
  font-size: 1.728em;
}
.katex .sizing.reset-size6.size10,
.katex .fontsize-ensurer.reset-size6.size10 {
  font-size: 2.074em;
}
.katex .sizing.reset-size6.size11,
.katex .fontsize-ensurer.reset-size6.size11 {
  font-size: 2.488em;
}
.katex .sizing.reset-size7.size1,
.katex .fontsize-ensurer.reset-size7.size1 {
  font-size: 0.41666667em;
}
.katex .sizing.reset-size7.size2,
.katex .fontsize-ensurer.reset-size7.size2 {
  font-size: 0.5em;
}
.katex .sizing.reset-size7.size3,
.katex .fontsize-ensurer.reset-size7.size3 {
  font-size: 0.58333333em;
}
.katex .sizing.reset-size7.size4,
.katex .fontsize-ensurer.reset-size7.size4 {
  font-size: 0.66666667em;
}
.katex .sizing.reset-size7.size5,
.katex .fontsize-ensurer.reset-size7.size5 {
  font-size: 0.75em;
}
.katex .sizing.reset-size7.size6,
.katex .fontsize-ensurer.reset-size7.size6 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size7.size7,
.katex .fontsize-ensurer.reset-size7.size7 {
  font-size: 1em;
}
.katex .sizing.reset-size7.size8,
.katex .fontsize-ensurer.reset-size7.size8 {
  font-size: 1.2em;
}
.katex .sizing.reset-size7.size9,
.katex .fontsize-ensurer.reset-size7.size9 {
  font-size: 1.44em;
}
.katex .sizing.reset-size7.size10,
.katex .fontsize-ensurer.reset-size7.size10 {
  font-size: 1.72833333em;
}
.katex .sizing.reset-size7.size11,
.katex .fontsize-ensurer.reset-size7.size11 {
  font-size: 2.07333333em;
}
.katex .sizing.reset-size8.size1,
.katex .fontsize-ensurer.reset-size8.size1 {
  font-size: 0.34722222em;
}
.katex .sizing.reset-size8.size2,
.katex .fontsize-ensurer.reset-size8.size2 {
  font-size: 0.41666667em;
}
.katex .sizing.reset-size8.size3,
.katex .fontsize-ensurer.reset-size8.size3 {
  font-size: 0.48611111em;
}
.katex .sizing.reset-size8.size4,
.katex .fontsize-ensurer.reset-size8.size4 {
  font-size: 0.55555556em;
}
.katex .sizing.reset-size8.size5,
.katex .fontsize-ensurer.reset-size8.size5 {
  font-size: 0.625em;
}
.katex .sizing.reset-size8.size6,
.katex .fontsize-ensurer.reset-size8.size6 {
  font-size: 0.69444444em;
}
.katex .sizing.reset-size8.size7,
.katex .fontsize-ensurer.reset-size8.size7 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size8.size8,
.katex .fontsize-ensurer.reset-size8.size8 {
  font-size: 1em;
}
.katex .sizing.reset-size8.size9,
.katex .fontsize-ensurer.reset-size8.size9 {
  font-size: 1.2em;
}
.katex .sizing.reset-size8.size10,
.katex .fontsize-ensurer.reset-size8.size10 {
  font-size: 1.44027778em;
}
.katex .sizing.reset-size8.size11,
.katex .fontsize-ensurer.reset-size8.size11 {
  font-size: 1.72777778em;
}
.katex .sizing.reset-size9.size1,
.katex .fontsize-ensurer.reset-size9.size1 {
  font-size: 0.28935185em;
}
.katex .sizing.reset-size9.size2,
.katex .fontsize-ensurer.reset-size9.size2 {
  font-size: 0.34722222em;
}
.katex .sizing.reset-size9.size3,
.katex .fontsize-ensurer.reset-size9.size3 {
  font-size: 0.40509259em;
}
.katex .sizing.reset-size9.size4,
.katex .fontsize-ensurer.reset-size9.size4 {
  font-size: 0.46296296em;
}
.katex .sizing.reset-size9.size5,
.katex .fontsize-ensurer.reset-size9.size5 {
  font-size: 0.52083333em;
}
.katex .sizing.reset-size9.size6,
.katex .fontsize-ensurer.reset-size9.size6 {
  font-size: 0.5787037em;
}
.katex .sizing.reset-size9.size7,
.katex .fontsize-ensurer.reset-size9.size7 {
  font-size: 0.69444444em;
}
.katex .sizing.reset-size9.size8,
.katex .fontsize-ensurer.reset-size9.size8 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size9.size9,
.katex .fontsize-ensurer.reset-size9.size9 {
  font-size: 1em;
}
.katex .sizing.reset-size9.size10,
.katex .fontsize-ensurer.reset-size9.size10 {
  font-size: 1.20023148em;
}
.katex .sizing.reset-size9.size11,
.katex .fontsize-ensurer.reset-size9.size11 {
  font-size: 1.43981481em;
}
.katex .sizing.reset-size10.size1,
.katex .fontsize-ensurer.reset-size10.size1 {
  font-size: 0.24108004em;
}
.katex .sizing.reset-size10.size2,
.katex .fontsize-ensurer.reset-size10.size2 {
  font-size: 0.28929605em;
}
.katex .sizing.reset-size10.size3,
.katex .fontsize-ensurer.reset-size10.size3 {
  font-size: 0.33751205em;
}
.katex .sizing.reset-size10.size4,
.katex .fontsize-ensurer.reset-size10.size4 {
  font-size: 0.38572806em;
}
.katex .sizing.reset-size10.size5,
.katex .fontsize-ensurer.reset-size10.size5 {
  font-size: 0.43394407em;
}
.katex .sizing.reset-size10.size6,
.katex .fontsize-ensurer.reset-size10.size6 {
  font-size: 0.48216008em;
}
.katex .sizing.reset-size10.size7,
.katex .fontsize-ensurer.reset-size10.size7 {
  font-size: 0.57859209em;
}
.katex .sizing.reset-size10.size8,
.katex .fontsize-ensurer.reset-size10.size8 {
  font-size: 0.69431051em;
}
.katex .sizing.reset-size10.size9,
.katex .fontsize-ensurer.reset-size10.size9 {
  font-size: 0.83317261em;
}
.katex .sizing.reset-size10.size10,
.katex .fontsize-ensurer.reset-size10.size10 {
  font-size: 1em;
}
.katex .sizing.reset-size10.size11,
.katex .fontsize-ensurer.reset-size10.size11 {
  font-size: 1.19961427em;
}
.katex .sizing.reset-size11.size1,
.katex .fontsize-ensurer.reset-size11.size1 {
  font-size: 0.20096463em;
}
.katex .sizing.reset-size11.size2,
.katex .fontsize-ensurer.reset-size11.size2 {
  font-size: 0.24115756em;
}
.katex .sizing.reset-size11.size3,
.katex .fontsize-ensurer.reset-size11.size3 {
  font-size: 0.28135048em;
}
.katex .sizing.reset-size11.size4,
.katex .fontsize-ensurer.reset-size11.size4 {
  font-size: 0.32154341em;
}
.katex .sizing.reset-size11.size5,
.katex .fontsize-ensurer.reset-size11.size5 {
  font-size: 0.36173633em;
}
.katex .sizing.reset-size11.size6,
.katex .fontsize-ensurer.reset-size11.size6 {
  font-size: 0.40192926em;
}
.katex .sizing.reset-size11.size7,
.katex .fontsize-ensurer.reset-size11.size7 {
  font-size: 0.48231511em;
}
.katex .sizing.reset-size11.size8,
.katex .fontsize-ensurer.reset-size11.size8 {
  font-size: 0.57877814em;
}
.katex .sizing.reset-size11.size9,
.katex .fontsize-ensurer.reset-size11.size9 {
  font-size: 0.69453376em;
}
.katex .sizing.reset-size11.size10,
.katex .fontsize-ensurer.reset-size11.size10 {
  font-size: 0.83360129em;
}
.katex .sizing.reset-size11.size11,
.katex .fontsize-ensurer.reset-size11.size11 {
  font-size: 1em;
}
.katex .delimsizing.size1 {
  font-family: KaTeX_Size1;
}
.katex .delimsizing.size2 {
  font-family: KaTeX_Size2;
}
.katex .delimsizing.size3 {
  font-family: KaTeX_Size3;
}
.katex .delimsizing.size4 {
  font-family: KaTeX_Size4;
}
.katex .delimsizing.mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.katex .delimsizing.mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.katex .nulldelimiter {
  display: inline-block;
  width: 0.12em;
}
.katex .delimcenter {
  position: relative;
}
.katex .op-symbol {
  position: relative;
}
.katex .op-symbol.small-op {
  font-family: KaTeX_Size1;
}
.katex .op-symbol.large-op {
  font-family: KaTeX_Size2;
}
.katex .op-limits > .vlist-t {
  text-align: center;
}
.katex .accent > .vlist-t {
  text-align: center;
}
.katex .accent .accent-body {
  position: relative;
}
.katex .accent .accent-body:not(.accent-full) {
  width: 0;
}
.katex .overlay {
  display: block;
}
.katex .mtable .vertical-separator {
  display: inline-block;
  min-width: 1px;
}
.katex .mtable .arraycolsep {
  display: inline-block;
}
.katex .mtable .col-align-c > .vlist-t {
  text-align: center;
}
.katex .mtable .col-align-l > .vlist-t {
  text-align: left;
}
.katex .mtable .col-align-r > .vlist-t {
  text-align: right;
}
.katex .svg-align {
  text-align: left;
}
.katex svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.katex svg path {
  stroke: none;
}
.katex img {
  border-style: none;
  min-width: 0;
  min-height: 0;
  max-width: none;
  max-height: none;
}
.katex .stretchy {
  width: 100%;
  display: block;
  position: relative;
  overflow: hidden;
}
.katex .stretchy::before,
.katex .stretchy::after {
  content: "";
}
.katex .hide-tail {
  width: 100%;
  position: relative;
  overflow: hidden;
}
.katex .halfarrow-left {
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.katex .halfarrow-right {
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.katex .brace-left {
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.katex .brace-center {
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.katex .brace-right {
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.katex .x-arrow-pad {
  padding: 0 0.5em;
}
.katex .cd-arrow-pad {
  padding: 0 0.55556em 0 0.27778em;
}
.katex .x-arrow,
.katex .mover,
.katex .munder {
  text-align: center;
}
.katex .boxpad {
  padding: 0 0.3em;
}
.katex .fbox,
.katex .fcolorbox {
  box-sizing: border-box;
  border: 0.04em solid;
}
.katex .cancel-pad {
  padding: 0 0.2em;
}
.katex .cancel-lap {
  margin-left: -0.2em;
  margin-right: -0.2em;
}
.katex .sout {
  border-bottom-style: solid;
  border-bottom-width: 0.08em;
}
.katex .angl {
  box-sizing: border-box;
  border-top: 0.049em solid;
  border-right: 0.049em solid;
  margin-right: 0.03889em;
}
.katex .anglpad {
  padding: 0 0.03889em;
}
.katex .eqn-num::before {
  counter-increment: katexEqnNo;
  content: "(" counter(katexEqnNo) ")";
}
.katex .mml-eqn-num::before {
  counter-increment: mmlEqnNo;
  content: "(" counter(mmlEqnNo) ")";
}
.katex .mtr-glue {
  width: 50%;
}
.katex .cd-vert-arrow {
  display: inline-block;
  position: relative;
}
.katex .cd-label-left {
  display: inline-block;
  position: absolute;
  right: calc(50% + 0.3em);
  text-align: left;
}
.katex .cd-label-right {
  display: inline-block;
  position: absolute;
  left: calc(50% + 0.3em);
  text-align: right;
}
.katex-display {
  display: block;
  margin: 1em 0;
  text-align: center;
}
.katex-display > .katex {
  display: block;
  text-align: center;
  white-space: nowrap;
}
.katex-display > .katex > .katex-html {
  display: block;
  position: relative;
}
.katex-display > .katex > .katex-html > .tag {
  position: absolute;
  right: 0;
}
.katex-display.leqno > .katex > .katex-html > .tag {
  left: 0;
  right: auto;
}
.katex-display.fleqn > .katex {
  text-align: left;
  padding-left: 2em;
}
body {
  counter-reset: katexEqnNo mmlEqnNo;
}


  </style>
  <style>
    .markdown-body {
      font-family: -apple-system,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }

    @media not print {
      .markdown-body {
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    }

    .hf-container {
      color: #24292e;
      line-height: 1.3;
    }

    .markdown-body .highlight pre,
    .markdown-body pre {
      white-space: pre-wrap;
    }
    .markdown-body table {
      display: table;
    }
    .markdown-body img[data-align="center"] {
      display: block;
      margin: 0 auto;
    }
    .markdown-body img[data-align="right"] {
      display: block;
      margin: 0 0 0 auto;
    }
    .markdown-body li.task-list-item {
      list-style-type: none;
    }
    .markdown-body li > [type=checkbox] {
      margin: 0 0 0 -1.3em;
    }
    .markdown-body input[type="checkbox"] ~ p {
      margin-top: 0;
      display: inline-block;
    }
    .markdown-body ol ol,
    .markdown-body ul ol {
      list-style-type: decimal;
    }
    .markdown-body ol ol ol,
    .markdown-body ol ul ol,
    .markdown-body ul ol ol,
    .markdown-body ul ul ol {
      list-style-type: decimal;
    }
  </style>
  <style>.markdown-body a.footnote-ref {
  text-decoration: none;
}

.footnotes {
  font-size: .85em;
  opacity: .8;
}

.footnotes li[role="doc-endnote"] {
  position: relative;
}

.footnotes .footnote-back {
  position: absolute;
  font-family: initial;
  top: .2em;
  right: 1em;
  text-decoration: none;
}

.inline-math.invalid,
.multiple-math.invalid {
  color: rgb(255, 105, 105);
}

.toc-container {
  width: 100%;
}

.toc-container .toc-title {
  font-weight: 700;
  font-size: 1.2em;
  margin-bottom: 0;
}

.toc-container li,
.toc-container ul,
.toc-container ul li {
  list-style: none !important;
}

.toc-container > ul {
  padding-left: 0;
}

.toc-container ul li span {
  display : flex;
}

.toc-container ul li span a {
  color: inherit;
  text-decoration: none;
}
.toc-container ul li span a:hover {
  color: inherit;
  text-decoration: none;
}

.toc-container ul li span span.dots {
  flex: 1;
  height: 0.65em;
  margin: 0 10px;
  border-bottom: 2px dotted black;
}
</style>
  
  
</head>
<body>
  <article class="markdown-body"><h2 class="atx" id="生存分析报告（survival-analysis）">生存分析报告（Survival Analysis）</h2>
<p>12111643 施佳慧</p>
<p>生存分析是一组统计方法，用于检查和预测感兴趣事件发生的时间。这种分析形式起源于医疗保健，重点关注死亡时间。从那时起，生存分析已成功应用于全球几乎所有行业的用例。</p>
<h3 class="atx" id="数据预处理">数据预处理</h3>
<p>数据集来自 IBM，旨在模仿一家虚构的电信公司。此数据集中的每条记录代表一个订户，并包含有关其各自的人口统计、服务计划、媒体使用情况和订阅状态的信息。</p>
<h4 class="atx" id="数据集介绍">数据集介绍</h4>
<p><strong>客户基本信息</strong></p>
<ul>
<li><p><code>customerID</code>: 客户唯一标识符</p>
</li>
<li><p><code>gender</code>: 客户性别</p>
</li>
<li><p><code>seniorCitizen</code>: 标识客户是否为老年人(1/0)</p>
</li>
<li><p><code>partner</code>: 客户是否有伴侣(Yes/No)</p>
</li>
<li><p><code>dependents</code>: 客户是否有家属(Yes/No)</p>
</li>
</ul>
<p><strong>客户服务使用情况</strong></p>
<ul>
<li><p><code>tenure</code>: 客户使用公司服务的月数</p>
</li>
<li><p><code>phoneService</code>: 是否订阅了电话服务(Yes/No)</p>
</li>
<li><p><code>multipleLines</code>: 是否有多线路服务(Yes/No/No phone service)</p>
</li>
<li><p><code>internetService</code>: 互联网服务提供商类型(DSL, Fiber optic, No)</p>
</li>
<li><p><code>onlineSecurity</code>: 是否使用在线安全服务(Yes/No/No internet service)</p>
</li>
<li><p><code>onlineBackup</code>: 是否使用在线备份服务(Yes/No/No internet service)</p>
</li>
<li><p><code>deviceProtection</code>: 是否有设备保护计划(Yes/No/No internet service)</p>
</li>
<li><p><code>techSupport</code>: 是否有技术支持服务(Yes/No/No internet service)</p>
</li>
<li><p><code>streamingTV</code>: 是否有流媒体电视服务(Yes/No/No internet service)</p>
</li>
<li><p><code>streamingMovies</code>: 是否有流媒体电影服务(Yes/No/No internet service)</p>
</li>
</ul>
<p><strong>合同与账单信息</strong></p>
<ul>
<li><p><code>contract</code>: 合同类型(Month-to-month, One year, Two year)</p>
</li>
<li><p><code>paperlessBilling</code>: 是否使用无纸化账单(Yes/No)</p>
</li>
<li><p><code>paymentMethod</code>: 付款方式(Electronic check, Mailed check, Bank transfer, Credit card)</p>
</li>
<li><p><code>monthlyCharges</code>: 每月费用</p>
</li>
<li><p><code>totalCharges</code>: 总费用</p>
</li>
</ul>
<h4 class="atx" id="数据转换与筛选">数据转换与筛选</h4>
<p>将字符串类型的流失标记<code>churnString</code>("Yes"/"No")转换为数值型<code>churn</code>(1/0) ，使用<code>when().otherwise()</code>条件表达式处理异常值。仅保留按月订阅的客户(<code>contract == 'Month-to-month'</code>) ,排除没有互联网服务的客户(<code>internetService != 'No'</code>), 移除原始的<code>churnString</code>列.将原始数据直接保存为Bronze层表，保留数据的原始形态不做任何处理；然后对数据进行清洗转换，包括将流失标记转为数值型、筛选特定合同类型和服务用户，并移除冗余列，最终将处理后的结构化数据存储为Silver表。</p>
<p>Silver:</p>
<p><strong>客户基本信息</strong>  </p>
<table>
<thead>
<tr>
<th>customerID</th>
<th>gender</th>
<th>seniorCitizen</th>
<th>partner</th>
<th>dependents</th>
<th>tenure</th>
</tr>
</thead>
<tbody><tr>
<td>7590-VHVEG</td>
<td>Female</td>
<td>0.0</td>
<td>Yes</td>
<td>No</td>
<td>1.0</td>
</tr>
<tr>
<td>3668-QPYBK</td>
<td>Male</td>
<td>0.0</td>
<td>No</td>
<td>No</td>
<td>2.0</td>
</tr>
<tr>
<td>9237-HQITU</td>
<td>Female</td>
<td>0.0</td>
<td>No</td>
<td>No</td>
<td>2.0</td>
</tr>
<tr>
<td>9305-CDSKC</td>
<td>Female</td>
<td>0.0</td>
<td>No</td>
<td>No</td>
<td>8.0</td>
</tr>
</tbody></table>
<p><strong>服务信息</strong>  </p>
<table>
<thead>
<tr>
<th>customerID</th>
<th>phoneService</th>
<th>multipleLines</th>
<th>internetService</th>
<th>onlineSecurity</th>
<th>onlineBackup</th>
<th>deviceProtection</th>
<th>techSupport</th>
<th>streamingTV</th>
<th>streamingMovies</th>
</tr>
</thead>
<tbody><tr>
<td>7590-VHVEG</td>
<td>No</td>
<td>No phone service</td>
<td>DSL</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>3668-QPYBK</td>
<td>Yes</td>
<td>No</td>
<td>DSL</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>9237-HQITU</td>
<td>Yes</td>
<td>No</td>
<td>Fiber optic</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>9305-CDSKC</td>
<td>Yes</td>
<td>Yes</td>
<td>Fiber optic</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody></table>
<p><strong>合同与账单信息</strong>  </p>
<table>
<thead>
<tr>
<th>customerID</th>
<th>contract</th>
<th>paperlessBilling</th>
<th>paymentMethod</th>
<th>monthlyCharges</th>
<th>totalCharges</th>
<th>churn</th>
</tr>
</thead>
<tbody><tr>
<td>7590-VHVEG</td>
<td>Month-to-month</td>
<td>Yes</td>
<td>Electronic check</td>
<td>29.85</td>
<td>29.85</td>
<td>0</td>
</tr>
<tr>
<td>3668-QPYBK</td>
<td>Month-to-month</td>
<td>Yes</td>
<td>Mailed check</td>
<td>53.85</td>
<td>108.15</td>
<td>1</td>
</tr>
<tr>
<td>9237-HQITU</td>
<td>Month-to-month</td>
<td>Yes</td>
<td>Electronic check</td>
<td>70.7</td>
<td>151.65</td>
<td>1</td>
</tr>
<tr>
<td>9305-CDSKC</td>
<td>Month-to-month</td>
<td>Yes</td>
<td>Electronic check</td>
<td>99.65</td>
<td>820.5</td>
<td>1</td>
</tr>
</tbody></table>
<h3 class="atx" id="生存概率曲线">生存概率曲线</h3>
<h4 class="atx" id="kaplan-meier（km）">Kaplan-Meier（KM）</h4>
<p>Kaplan-Meier（KM）估计是一种<strong>非参数统计方法</strong>，用于估计<strong>生存函数（Survival Function）</strong>，即在给定时间点个体仍然存活的概率。它广泛应用于医学、工程、金融等领域，尤其适用于<strong>右删失（Right-Censored</strong>数据（即部分个体的最终事件发生时间未知）。  </p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span style="margin-right:0.05764em;" class="mord mathnormal">S</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:2.8278em;vertical-align:-1.3778em;" class="strut"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:1.05em;" class="vlist"><span style="top:-1.8723em;margin-left:0em;"><span style="height:3.05em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">:</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3281em;" class="vlist"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span style="height:2.5em;" class="pstrut"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.143em;" class="vlist"><span></span></span></span></span></span></span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.05em;"><span style="height:3.05em;" class="pstrut"></span><span><span class="mop op-symbol large-op">∏</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:1.3778em;" class="vlist"><span></span></span></span></span></span><span style="margin-right:0.1667em;" class="mspace"></span><span class="minner"><span style="top:0em;" class="mopen delimcenter"><span class="delimsizing size3">(</span></span><span class="mord">1</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">−</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:1.3714em;" class="vlist"><span style="top:-2.314em;"><span style="height:3em;" class="pstrut"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3117em;" class="vlist"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;" class="pstrut"></span><span style="border-bottom-width:0.04em;" class="frac-line"></span></span><span style="top:-3.677em;"><span style="height:3em;" class="pstrut"></span><span class="mord"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3117em;" class="vlist"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.836em;" class="vlist"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span style="top:0em;" class="mclose delimcenter"><span class="delimsizing size3">)</span></span></span></span></span></span></span><p>其中：</p>
<ul>
<li>( S(t) )：在时间 ( t ) 时的生存概率</li>
<li>( d_i )：在时间 ( t_i ) 发生事件（如死亡、流失）的个体数</li>
<li>( n_i )：在时间 ( t_i ) 之前仍处于风险中的个体数（即尚未发生事件或删失）</li>
</ul>
<h4 class="atx" id="模型构建">模型构建</h4>
<p>接下来我使用 Kaplan-MeierFitter 进行生存分析，首先定义生存时间 <code>tenure</code> 作为观察时长，并将 <code>churn</code> 转换为事件状态（1 表示客户流失）。然后，我们用这些数据拟合 Kaplan-Meier 模型，并绘制生存曲线，以直观展示客户留存的变化趋势。</p>
<ul>
<li><p>T = 观察时长/生存时间(这里使用客户留存月数'tenure')</p>
</li>
<li><p>C = 事件观察状态(这里用'churn'作为事件标志，1表示客户流失)</p>
</li>
</ul>
<h4 class="atx" id="实验结果">实验结果</h4>
<p><strong>Kaplan-MeierFitter Graph</strong></p>
<img width="1000" src="Picture/1.png">

<p><strong>Log-rank Test Results</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Group</th>
<th>Test Statistic</th>
<th>p-value</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td>Gender</td>
<td>Female Male</td>
<td>1.61011</td>
<td>0.204476</td>
<td>2.289995</td>
</tr>
<tr>
<td>Dependents</td>
<td>No Yes</td>
<td>13.405914</td>
<td>0.000251</td>
<td>11.96099</td>
</tr>
<tr>
<td>Online Security</td>
<td>No Yes</td>
<td>75.800079</td>
<td>3.14e-18</td>
<td>58.144453</td>
</tr>
<tr>
<td>Senior Citizen</td>
<td>0.0 1.0</td>
<td>49.027784</td>
<td>2.52e-12</td>
<td>38.52764</td>
</tr>
<tr>
<td>Partner</td>
<td>No Yes</td>
<td>257.844159</td>
<td>5.06e-58</td>
<td>190.331712</td>
</tr>
<tr>
<td>Phone Service</td>
<td>No Yes</td>
<td>0.778505</td>
<td>0.377599</td>
<td>1.405074</td>
</tr>
<tr>
<td>Multiple Lines</td>
<td>No - No phone service</td>
<td>35.546250</td>
<td>2.49e-09</td>
<td>28.580824</td>
</tr>
<tr>
<td></td>
<td>No - Yes</td>
<td>411.225536</td>
<td>1.98e-91</td>
<td>301.307649</td>
</tr>
<tr>
<td></td>
<td>No phone service - Yes</td>
<td>44.056629</td>
<td>3.19e-11</td>
<td>34.867600</td>
</tr>
<tr>
<td>Internet Service</td>
<td>DSL - Fiber optic</td>
<td>85.455399</td>
<td>2.37e-20</td>
<td>65.193753</td>
</tr>
<tr>
<td>Streaming TV</td>
<td>No Yes</td>
<td>140.761789</td>
<td>1.81e-32</td>
<td>105.442545</td>
</tr>
<tr>
<td>Streaming Movies</td>
<td>No Yes</td>
<td>170.262183</td>
<td>6.48e-39</td>
<td>126.858111</td>
</tr>
<tr>
<td>Online Backup</td>
<td>No Yes</td>
<td>300.455875</td>
<td>2.62e-67</td>
<td>221.179115</td>
</tr>
<tr>
<td>Device Protection</td>
<td>No Yes</td>
<td>169.868512</td>
<td>7.90e-39</td>
<td>126.572486</td>
</tr>
<tr>
<td>Tech Support</td>
<td>No Yes</td>
<td>25.969416</td>
<td>3.47e-07</td>
<td>21.459105</td>
</tr>
<tr>
<td>Paperless Billing</td>
<td>No Yes</td>
<td>25.263459</td>
<td>5.00e-07</td>
<td>20.931298</td>
</tr>
<tr>
<td>Payment Method</td>
<td>Bank Transfer (Auto) - Credit Card (Auto)</td>
<td>0.153545</td>
<td>6.95e-01</td>
<td>0.524562</td>
</tr>
<tr>
<td></td>
<td>Bank Transfer (Auto) - Electronic Check</td>
<td>55.164654</td>
<td>1.11e-13</td>
<td>43.036532</td>
</tr>
<tr>
<td></td>
<td>Bank Transfer (Auto) - Mailed Check</td>
<td>190.000457</td>
<td>3.18e-43</td>
<td>141.174532</td>
</tr>
<tr>
<td></td>
<td>Credit Card (Auto) - Electronic Check</td>
<td>45.167592</td>
<td>1.81e-11</td>
<td>35.686227</td>
</tr>
<tr>
<td></td>
<td>Credit Card (Auto) - Mailed Check</td>
<td>165.361074</td>
<td>7.63e-38</td>
<td>123.301883</td>
</tr>
<tr>
<td></td>
<td>Electronic Check - Mailed Check</td>
<td>72.323100</td>
<td>1.83e-17</td>
<td>55.603331</td>
</tr>
</tbody></table>
<p><strong>Payment Method</strong></p>
<table>
<thead>
<tr>
<th>Group</th>
<th>Test Statistic</th>
<th>p-value</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td>Bank Transfer (Auto) - Credit Card (Auto)</td>
<td>0.153545</td>
<td>6.95e-01</td>
<td>0.524562</td>
</tr>
<tr>
<td>Bank Transfer (Auto) - Electronic Check</td>
<td>55.164654</td>
<td>1.11e-13</td>
<td>43.036532</td>
</tr>
<tr>
<td>Bank Transfer (Auto) - Mailed Check</td>
<td>190.000457</td>
<td>3.18e-43</td>
<td>141.174532</td>
</tr>
<tr>
<td>Credit Card (Auto) - Electronic Check</td>
<td>45.167592</td>
<td>1.81e-11</td>
<td>35.686227</td>
</tr>
<tr>
<td>Credit Card (Auto) - Mailed Check</td>
<td>165.361074</td>
<td>7.63e-38</td>
<td>123.301883</td>
</tr>
<tr>
<td>Electronic Check - Mailed Check</td>
<td>72.323100</td>
<td>1.83e-17</td>
<td>55.603331</td>
</tr>
</tbody></table>
<p><strong>Top 10 survival probability</strong></p>
<table>
<thead>
<tr>
<th>DSL</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1.000000</td>
</tr>
<tr>
<td>1</td>
<td>0.902698</td>
</tr>
<tr>
<td>2</td>
<td>0.864380</td>
</tr>
<tr>
<td>3</td>
<td>0.834702</td>
</tr>
<tr>
<td>4</td>
<td>0.810522</td>
</tr>
<tr>
<td>5</td>
<td>0.794352</td>
</tr>
<tr>
<td>6</td>
<td>0.783900</td>
</tr>
<tr>
<td>7</td>
<td>0.776362</td>
</tr>
<tr>
<td>8</td>
<td>0.768486</td>
</tr>
<tr>
<td>9</td>
<td>0.750833</td>
</tr>
</tbody></table>
<h4 class="atx" id="结论">结论</h4>
<p>首先，性别对客户流失没有显著影响（p = 0.204476），而有抚养人的客户流失显著低于没有抚养人的客户（p = 0.000251），表明抚养人状态可能是客户留存的一个积极因素。此外，拥有在线安全服务的客户流失显著低于没有该服务的客户（p ≈ 3.14e-18），这表明在线安全服务对于提高客户留存具有显著作用。对于老年客户（p ≈ 2.52e-12），其流失率较高，说明老年人群体在客户流失方面的风险较大。伴侣状态也是一个关键因素，有伴侣的客户流失显著较低（p ≈ 5.06e-58），显示出伴侣在客户留存中的重要作用。相反，电话服务的有无对客户流失没有显著影响（p = 0.377599），表明电话服务对客户流失的影响较小。</p>
<p>在多线路服务方面，选择多线路服务的客户流失显著低于未选择的客户（p ≈ 1.98e-91），而没有电话服务的客户流失率较高，表明多线路服务是留住客户的一个有效手段。互联网服务也对客户流失产生影响，光纤服务用户的流失较低（p ≈ 2.37e-20），而DSL服务用户的流失较高，表明光纤互联网对客户留存有积极作用。电视流媒体和电影流媒体服务的使用也与客户流失相关，选择这些服务的客户流失较低（p ≈ 1.81e-32 和 p ≈ 6.48e-39），体现了流媒体服务对客户留存的重要影响。</p>
<p>此外，在线备份和设备保护服务的客户流失也显著较低（p ≈ 2.62e-67 和 p ≈ 7.90e-39），说明这两项服务在减少客户流失方面发挥了积极作用。技术支持的有无也对客户留存起到了重要作用，有技术支持的客户流失显著较低（p ≈ 3.47e-07）。电子账单服务对客户留存也有显著影响（p ≈ 5.00e-07），选择电子账单的客户流失较低。支付方式方面，不同支付方式的客户流失差异明显，尤其是通过电子支票支付的客户流失显著较低（p ≈ 1.11e-13），而通过邮寄支票支付的客户流失较高（p ≈ 3.18e-43）。</p>
<p>DSL用户的留存率随时间的推移逐渐下降，但初期留存率仍较高（第0月为1.0，第9月为0.750833），表明随着时间的推移，DSL服务的客户可能会逐渐流失。总的来说，客户流失受到多个因素的影响，尤其是是否拥有伴侣、是否使用互联网服务、是否选择在线安全、设备保护和技术支持等服务。</p>
<p></p>
<h3 class="atx" id="cox-比例风险模型">Cox 比例风险模型</h3>
<h5 class="atx" id="模型介绍">模型介绍</h5>
<p>Kaplan-Meier 用于估计生存概率，而 Cox 比例风险用于估计风险比。风险比表示两个个体（或群体）之间存在的风险差异。Cox比例风险模型（Cox Proportional Hazards Model）是一种广泛应用于生存分析的回归模型，用于分析影响生存时间的因素。其主要特点是可以处理删失数据，并且不要求事先指定基础生存函数的形式。Cox模型通常用于估计某些变量对生存时间的影响。Cox比例风险模型的基本假设是风险比（hazard ratio）是各个解释变量的线性组合。</p>
<p><strong>模型公式：</strong></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="mclose">)</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">+</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:0.8889em;vertical-align:-0.1944em;" class="strut"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">+</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:0.6667em;vertical-align:-0.0833em;" class="strut"></span><span class="minner">⋯</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">+</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:1.0361em;vertical-align:-0.2861em;" class="strut"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.1514em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.2861em;" class="vlist"><span></span></span></span></span></span></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.1514em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.2861em;" class="vlist"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span><p>其中：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="mclose">)</span></span></span></span> 是给定协变量 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:1.0361em;vertical-align:-0.2861em;" class="strut"></span><span class="mopen">(</span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="minner">…</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.1514em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.2861em;" class="vlist"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 的条件下，时间 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6151em;" class="strut"></span><span class="mord mathnormal">t</span></span></span></span> 处的风险函数（即生存时间的瞬时风险）。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span> 是基准风险函数，即当所有协变量为零时的风险函数。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.9694em;vertical-align:-0.2861em;" class="strut"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="minner">…</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.1514em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.2861em;" class="vlist"><span></span></span></span></span></span></span></span></span></span> 是协变量（也称为解释变量、特征），例如年龄、性别、治疗方法等。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.9805em;vertical-align:-0.2861em;" class="strut"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3011em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="minner">…</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.1514em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.2861em;" class="vlist"><span></span></span></span></span></span></span></span></span></span> 是需要估计的回归系数。</li>
</ul>
<p><strong>风险比</strong>:</p>
<p>Cox模型中的回归系数 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.8889em;vertical-align:-0.1944em;" class="strut"></span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3117em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span></span></span></span> 代表了每个变量的影响。为了便于解释，我们可以计算每个变量的风险比（Hazard Ratio, HR）：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.08125em;" class="mord mathnormal">H</span><span style="margin-right:0.00773em;" class="mord mathnormal">R</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span style="margin-right:0.05278em;" class="mord mathnormal">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3117em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span><p>风险比 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.08125em;" class="mord mathnormal">H</span><span style="margin-right:0.00773em;" class="mord mathnormal">R</span></span></span></span> 表示在其他变量保持不变的情况下，协变量 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.8333em;vertical-align:-0.15em;" class="strut"></span><span class="mord"><span style="margin-right:0.07847em;" class="mord mathnormal">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.3117em;" class="vlist"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.15em;" class="vlist"><span></span></span></span></span></span></span></span></span></span> 增加一个单位时，事件发生的风险比值。</p>
<ul>
<li>如果 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.7224em;vertical-align:-0.0391em;" class="strut"></span><span style="margin-right:0.08125em;" class="mord mathnormal">H</span><span style="margin-right:0.00773em;" class="mord mathnormal">R</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">&gt;</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:0.6444em;" class="strut"></span><span class="mord">1</span></span></span></span>，说明该变量的增大增加了事件发生的风险。</li>
<li>如果 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.7224em;vertical-align:-0.0391em;" class="strut"></span><span style="margin-right:0.08125em;" class="mord mathnormal">H</span><span style="margin-right:0.00773em;" class="mord mathnormal">R</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">&lt;</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:0.6444em;" class="strut"></span><span class="mord">1</span></span></span></span>，说明该变量的增大降低了事件发生的风险。</li>
<li>如果 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.08125em;" class="mord mathnormal">H</span><span style="margin-right:0.00773em;" class="mord mathnormal">R</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:0.6444em;" class="strut"></span><span class="mord">1</span></span></span></span>，则该变量对事件发生的风险没有影响。</li>
</ul>
<h4 class="atx" id="模型构建-1">模型构建</h4>
<p>为了使用 Lifelines 库拟合 Cox 比例风险模型，首先对分类列进行单热编码。首先，代码对 <code>telco_pd</code> 数据框中的几个分类变量（<code>dependents</code>、<code>internetService</code>、<code>onlineBackup</code>、<code>techSupport</code> 和 <code>paperlessBilling</code>）进行独热编码（One-Hot Encoding），后面再将这些分类变量转换为多个二进制列，例如 <code>dependents_Yes</code> 和 <code>internetService_DSL</code>，表示该类别是否存在。其后再创建一个新的数据框 <code>survival_pd</code>，其中仅包含进行生存分析所需的变量：<code>churn</code>（客户流失，作为生存分析的事件变量）、<code>tenure</code>（客户留存时间，作为生存时间）、以及几个经过编码的关键变量（<code>dependents_Yes</code>、<code>internetService_DSL</code>、<code>onlineBackup_Yes</code> 和 <code>techSupport_Yes</code>）。</p>
<pre><code class="fenced-code-block language-python">encode_cols <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'dependents'</span><span class="token punctuation">,</span><span class="token string">'internetService'</span><span class="token punctuation">,</span><span class="token string">'onlineBackup'</span><span class="token punctuation">,</span><span class="token string">'techSupport'</span><span class="token punctuation">,</span><span class="token string">'paperlessBilling'</span><span class="token punctuation">]</span></code></pre>
<p> <strong>基础信息</strong></p>
<table>
<thead>
<tr>
<th>customerID</th>
<th>gender</th>
<th>seniorCitizen</th>
<th>partner</th>
<th>tenure</th>
<th>phoneService</th>
<th>multipleLines</th>
</tr>
</thead>
<tbody><tr>
<td>7590-VHVEG</td>
<td>Female</td>
<td>0.0</td>
<td>Yes</td>
<td>1.0</td>
<td>No</td>
<td>No phone service</td>
</tr>
<tr>
<td>3668-QPYBK</td>
<td>Male</td>
<td>0.0</td>
<td>No</td>
<td>2.0</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>9237-HQITU</td>
<td>Female</td>
<td>0.0</td>
<td>No</td>
<td>2.0</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>9305-CDSKC</td>
<td>Female</td>
<td>0.0</td>
<td>No</td>
<td>8.0</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>1452-KIOVK</td>
<td>Male</td>
<td>0.0</td>
<td>No</td>
<td>22.0</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody></table>
<p><strong>服务与账单信息</strong></p>
<table>
<thead>
<tr>
<th>customerID</th>
<th>onlineSecurity</th>
<th>deviceProtection</th>
<th>streamingTV</th>
<th>dependents_No</th>
<th>dependents_Yes</th>
<th>internetService_DSL</th>
<th>internetService_Fiber optic</th>
<th>onlineBackup_No</th>
<th>onlineBackup_Yes</th>
<th>techSupport_No</th>
<th>techSupport_Yes</th>
<th>paperlessBilling_No</th>
<th>paperlessBilling_Yes</th>
</tr>
</thead>
<tbody><tr>
<td>7590-VHVEG</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>3668-QPYBK</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>9237-HQITU</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>9305-CDSKC</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>1452-KIOVK</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody></table>
<h4 class="atx" id="实验结果-1">实验结果</h4>
<h5 class="atx" id="拟合cox比例风险模型">拟合Cox比例风险模型</h5>
<p><strong>模型信息</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Model</strong></td>
<td>lifelines.CoxPHFitter</td>
</tr>
<tr>
<td><strong>Duration Column</strong></td>
<td>'tenure'</td>
</tr>
<tr>
<td><strong>Event Column</strong></td>
<td>'churn'</td>
</tr>
<tr>
<td><strong>Baseline Estimation</strong></td>
<td>breslow</td>
</tr>
<tr>
<td><strong>Number of Observations</strong></td>
<td>3351</td>
</tr>
<tr>
<td><strong>Number of Events Observed</strong></td>
<td>1556</td>
</tr>
<tr>
<td><strong>Partial Log-Likelihood</strong></td>
<td>-11315.95</td>
</tr>
<tr>
<td><strong>Time Fit Was Run</strong></td>
<td>2025-03-26 11:56:38 UTC</td>
</tr>
</tbody></table>
<p><strong>回归系数结果</strong></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>coef</th>
<th>exp(coef)</th>
<th>se(coef)</th>
<th>coef lower 95%</th>
<th>coef upper 95%</th>
<th>exp(coef) lower 95%</th>
<th>exp(coef) upper 95%</th>
<th>z</th>
<th>p</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td>dependents_Yes</td>
<td>-0.33</td>
<td>0.72</td>
<td>0.07</td>
<td>-0.47</td>
<td>-0.19</td>
<td>0.63</td>
<td>0.83</td>
<td>-4.64</td>
<td>&lt;0.005</td>
<td>18.12</td>
</tr>
<tr>
<td>internetService_DSL</td>
<td>-0.22</td>
<td>0.80</td>
<td>0.06</td>
<td>-0.33</td>
<td>-0.10</td>
<td>0.72</td>
<td>0.90</td>
<td>-3.68</td>
<td>&lt;0.005</td>
<td>12.07</td>
</tr>
<tr>
<td>onlineBackup_Yes</td>
<td>-0.78</td>
<td>0.46</td>
<td>0.06</td>
<td>-0.89</td>
<td>-0.66</td>
<td>0.41</td>
<td>0.52</td>
<td>-13.13</td>
<td>&lt;0.005</td>
<td>128.37</td>
</tr>
<tr>
<td>techSupport_Yes</td>
<td>-0.64</td>
<td>0.53</td>
<td>0.08</td>
<td>-0.79</td>
<td>-0.49</td>
<td>0.46</td>
<td>0.61</td>
<td>-8.48</td>
<td>&lt;0.005</td>
<td>55.36</td>
</tr>
</tbody></table>
<p><strong>统计指标</strong></p>
<table>
<thead>
<tr>
<th>指标</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Concordance</strong></td>
<td>0.64</td>
</tr>
<tr>
<td><strong>Partial AIC</strong></td>
<td>22639.90</td>
</tr>
<tr>
<td><strong>Log-Likelihood Ratio Test</strong></td>
<td>337.77 on 4 df</td>
</tr>
<tr>
<td><strong>-log2(p) of LL-Ratio Test</strong></td>
<td>236.24</td>
</tr>
</tbody></table>
<img width="600" src="Picture/2.png">

<p>从回归模型的结果来看，影响客户流失的几个重要因素包括是否有家属、网络服务类型、在线备份服务和技术支持服务。有家属的用户相比无家属的用户流失风险更低，可能是由于家庭用户对服务的依赖性更强。选择DSL宽带的用户相比其他类型的宽带用户流失风险更低，这可能与DSL用户的使用习惯或缺乏更优选择有关。订阅在线备份和技术支持服务的用户流失风险明显降低，这表明增值服务可能有助于提高用户粘性。此外，模型的一致性指数为0.64，说明它在一定程度上能够预测用户流失风险。然而，部分变量不满足比例风险假设，例如网络服务类型、在线备份和技术支持服务，建议在后续分析中采用分层方法或加入时间交互项进行调整。总体而言，这些结果表明，企业可以通过推广增值服务、优化家庭用户策略等方式来减少客户流失。</p>
<h5 class="atx" id="cox比例风险模型假设检验">Cox比例风险模型假设检验</h5>
<table>
<thead>
<tr>
<th>变量</th>
<th>方法</th>
<th>统计量</th>
<th>p 值</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>dependents_Yes</strong></td>
<td>km</td>
<td>1.48</td>
<td>0.22</td>
<td>2.16</td>
</tr>
<tr>
<td></td>
<td>rank</td>
<td>0.81</td>
<td>0.37</td>
<td>1.44</td>
</tr>
<tr>
<td><strong>internetService_DSL</strong></td>
<td>km</td>
<td>20.98</td>
<td>&lt;0.005</td>
<td>17.72</td>
</tr>
<tr>
<td></td>
<td>rank</td>
<td>26.71</td>
<td>&lt;0.005</td>
<td>22.01</td>
</tr>
<tr>
<td><strong>onlineBackup_Yes</strong></td>
<td>km</td>
<td>17.80</td>
<td>&lt;0.005</td>
<td>15.31</td>
</tr>
<tr>
<td></td>
<td>rank</td>
<td>17.47</td>
<td>&lt;0.005</td>
<td>15.07</td>
</tr>
<tr>
<td><strong>techSupport_Yes</strong></td>
<td>km</td>
<td>8.09</td>
<td>&lt;0.005</td>
<td>7.81</td>
</tr>
<tr>
<td></td>
<td>rank</td>
<td>13.76</td>
<td>&lt;0.005</td>
<td>12.23</td>
</tr>
</tbody></table>
<p>变量 <code>internetService_DSL</code> (p &lt; 5e-05)、<code>onlineBackup_Yes</code> (p &lt; 5e-05) 和 <code>techSupport_Yes</code> (p = 0.0002) 不满足比例风险假设。</p>
<p><strong>Schoenfeld 残差图</strong></p>
<img width="600" src="Picture/3.png">

<p>图中 <code>dependents_Yes</code> 变量的 Schoenfeld 残差随机分布且 p 值较大，符合比例风险假设，而 <code>internetService_DSL</code>、<code>onlineBackup_Yes</code> 和 <code>techSupport_Yes</code> 的残差趋势随时间变化，p 值极小，不满足比例风险假设，建议采用分层 Cox 回归或引入时间交互项进行修正。</p>
<p><strong>对数-对数生存曲线（Log-log plot）</strong></p>
<p>目标变量: km_vars = ["onlineBackup", "dependents", "internetService", "techSupport"]</p>
<img width="600" src="Picture/4.png">

<p>从 Log-Log 生存曲线图来看，<code>dependents</code> 变量的两条曲线较为平行，符合比例风险假设，而 <code>onlineBackup</code>、<code>internetService_DSL</code> 和 <code>techSupport</code> 变量的曲线明显交叉或不平行，说明它们可能不满足比例风险假设，需要进一步调整模型，如分层分析或引入时间交互项。</p>
<h3 class="atx" id="加速失效时间模型">加速失效时间模型</h3>
<h4 class="atx" id="模型介绍-1">模型介绍</h4>
<p>加速失效时间模型（AFT模型）是一种常用于生存分析的统计模型，它通过观察影响生存时间的因素来分析个体的生存时间。与Cox比例风险模型（Cox Proportional Hazards Model）不同，AFT模型主要是通过加速或减慢失效时间的方式来描述变量对失效时间的影响。AFT模型是对生存时间进行建模的，它常使用在工业领域，如研究零件寿命受温度的影响，因此把生存时间称为失效时间（Failure Time）。</p>
<p>在AFT模型中，假设失效时间（或生存时间） <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.13889em;" class="mord mathnormal">T</span></span></span></span> 与一个给定的协变量 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span></span></span></span> 之间存在关系。具体来说，模型可以用下列公式表示：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.13889em;" class="mord mathnormal">T</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:0.6944em;" class="strut"></span><span class="mord mathnormal">λ</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">⋅</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mop">exp</span><span class="mopen">(</span><span style="margin-right:0.07847em;" class="mord mathnormal">βX</span><span class="mclose">)</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">⋅</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span></span><p>其中：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.13889em;" class="mord mathnormal">T</span></span></span></span> 是失效时间或生存时间。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6944em;" class="strut"></span><span class="mord mathnormal">λ</span></span></span></span> 是一个标度参数，通常由数据估计。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.8889em;vertical-align:-0.1944em;" class="strut"></span><span style="margin-right:0.05278em;" class="mord mathnormal">β</span></span></span></span> 是待估计的回归系数，代表协变量 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span></span></span></span> 对生存时间的影响。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.6833em;" class="strut"></span><span style="margin-right:0.07847em;" class="mord mathnormal">X</span></span></span></span> 是协变量（例如温度、压力等）。</li>
<li><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span> 是一个误差项，通常假设 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span> 来自某种分布，如对数正态分布，即 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">∼</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:0.8889em;vertical-align:-0.1944em;" class="strut"></span><span class="mord text"><span class="mord">LogNormal</span></span></span></span></span>。</li>
</ul>
<p>为了更好地理解AFT模型，假设误差项 <span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span> 来自对数正态分布，那么该模型可以表示为：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mop">ln</span><span class="mopen">(</span><span style="margin-right:0.13889em;" class="mord mathnormal">T</span><span class="mclose">)</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mop">ln</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mclose">)</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">+</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:0.8889em;vertical-align:-0.1944em;" class="strut"></span><span style="margin-right:0.07847em;" class="mord mathnormal">βX</span><span style="margin-right:0.2222em;" class="mspace"></span><span class="mbin">+</span><span style="margin-right:0.2222em;" class="mspace"></span></span><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span></span><p>其中，<span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span></span></span></span> 的分布为：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:0.4306em;" class="strut"></span><span class="mord mathnormal">ϵ</span><span style="margin-right:0.2778em;" class="mspace"></span><span class="mrel">∼</span><span style="margin-right:0.2778em;" class="mspace"></span></span><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord text"><span class="mord">Normal</span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span style="margin-right:0.1667em;" class="mspace"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span><p>AFT模型的核心思想是，协变量对失效时间的影响是通过加速（或减慢）失效过程的方式体现的。例如，在工业工程中，温度过高可能会加速零件的失效，因此在这种情况下，温度的增加会导致失效时间的加速。</p>
<h4 class="atx" id="模型构建-2">模型构建</h4>
<p>与cox回归模型相同，首先对数据集进行了独热编码，这里便不再阐述。再使用 <strong>Log-Logistic AFT（加速失效时间）模型</strong> 对客户流失（churn）进行生存分析，以评估不同特征对客户留存时间（tenure）的影响，并计算中位生存时间。</p>
<pre><code class="fenced-code-block language-python">survival_pd <span class="token operator">=</span> encoded_pd<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'churn'</span><span class="token punctuation">,</span> <span class="token string">'tenure'</span><span class="token punctuation">,</span> <span class="token string">'partner_Yes'</span><span class="token punctuation">,</span> <span class="token string">'multipleLines_Yes'</span><span class="token punctuation">,</span> <span class="token string">'internetService_DSL'</span><span class="token punctuation">,</span> <span class="token string">'onlineSecurity_Yes'</span><span class="token punctuation">,</span> <span class="token string">'onlineBackup_Yes'</span><span class="token punctuation">,</span> <span class="token string">'deviceProtection_Yes'</span><span class="token punctuation">,</span> <span class="token string">'techSupport_Yes'</span><span class="token punctuation">,</span> <span class="token string">'paymentMethod_Bank transfer (automatic)'</span><span class="token punctuation">,</span> <span class="token string">'paymentMethod_Credit card (automatic)'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre>
<h4 class="atx" id="实验结果-2">实验结果</h4>
<h5 class="atx" id="拟合加速失效时间模型">拟合加速失效时间模型</h5>
<table>
<thead>
<tr>
<th>指标</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td><strong>模型</strong></td>
<td>lifelines.LogLogisticAFTFitter</td>
</tr>
<tr>
<td><strong>生存时间列</strong></td>
<td>'tenure'</td>
</tr>
<tr>
<td><strong>事件列</strong></td>
<td>'churn'</td>
</tr>
<tr>
<td><strong>观测数</strong></td>
<td>3351</td>
</tr>
<tr>
<td><strong>事件数</strong></td>
<td>1556</td>
</tr>
<tr>
<td><strong>对数似然</strong></td>
<td>-6838.36</td>
</tr>
<tr>
<td><strong>拟合时间</strong></td>
<td>2025-03-26 12:17:08 UTC</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>变量</th>
<th>coef</th>
<th>exp(coef)</th>
<th>se(coef)</th>
<th>coef lower 95%</th>
<th>coef upper 95%</th>
<th>exp(coef) lower 95%</th>
<th>exp(coef) upper 95%</th>
<th>z</th>
<th>p</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>deviceProtection_Yes</strong></td>
<td>0.48</td>
<td>1.62</td>
<td>0.07</td>
<td>0.35</td>
<td>0.62</td>
<td>1.41</td>
<td>1.86</td>
<td>6.88</td>
<td>&lt;0.005</td>
<td>37.25</td>
</tr>
<tr>
<td><strong>internetService_DSL</strong></td>
<td>0.38</td>
<td>1.47</td>
<td>0.08</td>
<td>0.23</td>
<td>0.53</td>
<td>1.26</td>
<td>1.71</td>
<td>4.98</td>
<td>&lt;0.005</td>
<td>20.59</td>
</tr>
<tr>
<td><strong>multipleLines_Yes</strong></td>
<td>0.66</td>
<td>1.94</td>
<td>0.07</td>
<td>0.53</td>
<td>0.80</td>
<td>1.70</td>
<td>2.22</td>
<td>9.64</td>
<td>&lt;0.005</td>
<td>70.70</td>
</tr>
<tr>
<td><strong>onlineBackup_Yes</strong></td>
<td>0.81</td>
<td>2.25</td>
<td>0.07</td>
<td>0.68</td>
<td>0.95</td>
<td>1.97</td>
<td>2.59</td>
<td>11.63</td>
<td>&lt;0.005</td>
<td>101.50</td>
</tr>
<tr>
<td><strong>onlineSecurity_Yes</strong></td>
<td>0.86</td>
<td>2.37</td>
<td>0.09</td>
<td>0.69</td>
<td>1.03</td>
<td>2.00</td>
<td>2.80</td>
<td>10.12</td>
<td>&lt;0.005</td>
<td>77.60</td>
</tr>
<tr>
<td><strong>partner_Yes</strong></td>
<td>0.68</td>
<td>1.97</td>
<td>0.07</td>
<td>0.55</td>
<td>0.81</td>
<td>1.73</td>
<td>2.24</td>
<td>10.21</td>
<td>&lt;0.005</td>
<td>78.93</td>
</tr>
<tr>
<td><strong>paymentMethod_Bank transfer (automatic)</strong></td>
<td>0.74</td>
<td>2.10</td>
<td>0.09</td>
<td>0.56</td>
<td>0.92</td>
<td>1.75</td>
<td>2.51</td>
<td>8.05</td>
<td>&lt;0.005</td>
<td>50.07</td>
</tr>
<tr>
<td><strong>paymentMethod_Credit card (automatic)</strong></td>
<td>0.80</td>
<td>2.22</td>
<td>0.10</td>
<td>0.61</td>
<td>0.99</td>
<td>1.84</td>
<td>2.68</td>
<td>8.36</td>
<td>&lt;0.005</td>
<td>53.81</td>
</tr>
<tr>
<td><strong>techSupport_Yes</strong></td>
<td>0.69</td>
<td>1.99</td>
<td>0.09</td>
<td>0.52</td>
<td>0.86</td>
<td>1.68</td>
<td>2.36</td>
<td>7.90</td>
<td>&lt;0.005</td>
<td>48.37</td>
</tr>
<tr>
<td><strong>Intercept</strong></td>
<td>1.59</td>
<td>4.91</td>
<td>0.07</td>
<td>1.46</td>
<td>1.72</td>
<td>4.32</td>
<td>5.58</td>
<td>24.47</td>
<td>&lt;0.005</td>
<td>436.88</td>
</tr>
</tbody></table>
<p><strong>Beta 估计值</strong></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>coef</th>
<th>exp(coef)</th>
<th>se(coef)</th>
<th>coef lower 95%</th>
<th>coef upper 95%</th>
<th>exp(coef) lower 95%</th>
<th>exp(coef) upper 95%</th>
<th>z</th>
<th>p</th>
<th>-log2(p)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Intercept</strong></td>
<td>0.12</td>
<td>1.13</td>
<td>0.02</td>
<td>0.08</td>
<td>0.16</td>
<td>1.08</td>
<td>1.17</td>
<td>5.71</td>
<td>&lt;0.005</td>
<td>26.42</td>
</tr>
</tbody></table>
<p> <strong>模型评估指标</strong></p>
<table>
<thead>
<tr>
<th>指标</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td><strong>一致性指数 (Concordance)</strong></td>
<td>0.73</td>
</tr>
<tr>
<td><strong>AIC (赤池信息准则)</strong></td>
<td>13698.72</td>
</tr>
<tr>
<td><strong>对数似然比检验</strong></td>
<td>877.49 on 9 df</td>
</tr>
<tr>
<td><strong>-log2(p) of ll-ratio test</strong></td>
<td>605.78</td>
</tr>
</tbody></table>
<p>Log-Logistic AFT 模型的结果表明，多个变量对用户流失时间（tenure）有显著影响，所有特征的 <strong>exp(coef) &gt; 1</strong>，说明它们都与更长的用户留存时间正相关。例如，<strong>onlineSecurity_Yes (exp(coef) = 2.37)</strong> 和 <strong>onlineBackup_Yes (exp(coef) = 2.25)</strong> 对留存时间的影响较大，说明使用这些服务的用户更可能长期留存。此外，模型的一致性指数（Concordance = 0.73）表明模型具有较好的预测能力，总体而言，该模型能够较好地解释影响用户流失的因素。</p>
<h5 class="atx" id="加速失效时间模型假设检验">加速失效时间模型假设检验</h5>
<img width="600" src="Picture/5.png">

<p>从Log-Logistic AFT 图像中可以看出，<strong>在线安全、在线备份、技术支持、自动支付等因素显著延长了客户留存时间</strong>，其中 <strong>在线安全和在线备份的影响最大</strong>。所有变量的影响均为正，说明它们有助于减少用户流失，且统计上显著。</p>
<img width="600" src="Picture/6.png">

<p>从 Log-Log 生存曲线图来看，除了<em>Internetservice</em>所有变量的曲线都交叉或不平行，说明它们可能不满足比例风险假设，需要进一步调整模型。</p>
<h3 class="atx" id="客户终身价值">客户终身价值</h3>
<h4 class="atx" id="生命周期价值（ltv）">生命周期价值（LTV）</h4>
<p>为了预测电信客户的生命周期价值（LTV）。它通过Cox比例风险模型计算客户留存概率，并基于用户输入的客户特征（如是否开通技术支持、宽带类型等）和折现率，动态生成包含以下内容的财务分析表：逐月生存概率、预期利润、净现值（NPV）以及累计NPV，同时可视化展示12/24/36个月的关键投资回报节点，帮助企业量化不同客户群的经济价值。</p>
<table>
<thead>
<tr>
<th>Contract Month</th>
<th>Survival Probability</th>
<th>Monthly Profit for the Selected Plan</th>
<th>Avg Expected Monthly Profit</th>
<th>NPV of Avg Expected Monthly Profit</th>
<th>Cumulative NPV</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1.00</td>
<td>30</td>
<td>30.0</td>
<td>30.00</td>
<td>30.00</td>
</tr>
<tr>
<td>2</td>
<td>0.87</td>
<td>30</td>
<td>26.1</td>
<td>25.88</td>
<td>55.88</td>
</tr>
<tr>
<td>3</td>
<td>0.81</td>
<td>30</td>
<td>24.3</td>
<td>23.90</td>
<td>79.78</td>
</tr>
<tr>
<td>4</td>
<td>0.77</td>
<td>30</td>
<td>23.1</td>
<td>22.53</td>
<td>102.31</td>
</tr>
<tr>
<td>5</td>
<td>0.74</td>
<td>30</td>
<td>22.2</td>
<td>21.48</td>
<td>123.79</td>
</tr>
<tr>
<td>6</td>
<td>0.71</td>
<td>30</td>
<td>21.3</td>
<td>20.43</td>
<td>144.22</td>
</tr>
<tr>
<td>7</td>
<td>0.69</td>
<td>30</td>
<td>20.7</td>
<td>19.69</td>
<td>163.91</td>
</tr>
<tr>
<td>8</td>
<td>0.67</td>
<td>30</td>
<td>20.1</td>
<td>18.97</td>
<td>182.88</td>
</tr>
<tr>
<td>9</td>
<td>0.65</td>
<td>30</td>
<td>19.5</td>
<td>18.25</td>
<td>201.13</td>
</tr>
<tr>
<td>10</td>
<td>0.63</td>
<td>30</td>
<td>18.9</td>
<td>17.54</td>
<td>218.67</td>
</tr>
<tr>
<td>11</td>
<td>0.60</td>
<td>30</td>
<td>18.0</td>
<td>16.57</td>
<td>235.24</td>
</tr>
<tr>
<td>12</td>
<td>0.59</td>
<td>30</td>
<td>17.7</td>
<td>16.16</td>
<td>251.40</td>
</tr>
<tr>
<td>13</td>
<td>0.57</td>
<td>30</td>
<td>17.1</td>
<td>15.48</td>
<td>266.88</td>
</tr>
<tr>
<td>14</td>
<td>0.55</td>
<td>30</td>
<td>16.5</td>
<td>14.81</td>
<td>281.69</td>
</tr>
<tr>
<td>15</td>
<td>0.54</td>
<td>30</td>
<td>16.2</td>
<td>14.42</td>
<td>296.11</td>
</tr>
<tr>
<td>16</td>
<td>0.52</td>
<td>30</td>
<td>15.6</td>
<td>13.77</td>
<td>309.88</td>
</tr>
<tr>
<td>17</td>
<td>0.51</td>
<td>30</td>
<td>15.3</td>
<td>13.40</td>
<td>323.28</td>
</tr>
<tr>
<td>18</td>
<td>0.50</td>
<td>30</td>
<td>15.0</td>
<td>13.03</td>
<td>336.31</td>
</tr>
<tr>
<td>19</td>
<td>0.48</td>
<td>30</td>
<td>14.4</td>
<td>12.40</td>
<td>348.71</td>
</tr>
<tr>
<td>20</td>
<td>0.47</td>
<td>30</td>
<td>14.1</td>
<td>12.04</td>
<td>360.75</td>
</tr>
<tr>
<td>21</td>
<td>0.46</td>
<td>30</td>
<td>13.8</td>
<td>11.69</td>
<td>372.44</td>
</tr>
<tr>
<td>22</td>
<td>0.45</td>
<td>30</td>
<td>13.5</td>
<td>11.34</td>
<td>383.78</td>
</tr>
<tr>
<td>23</td>
<td>0.44</td>
<td>30</td>
<td>13.2</td>
<td>11.00</td>
<td>394.78</td>
</tr>
<tr>
<td>24</td>
<td>0.43</td>
<td>30</td>
<td>12.9</td>
<td>10.66</td>
<td>405.44</td>
</tr>
<tr>
<td>25</td>
<td>0.42</td>
<td>30</td>
<td>12.6</td>
<td>10.32</td>
<td>415.76</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>存活概率下降趋势明显</strong>：随着合同月份的增加，存活概率（Survival Probability）从 1.00 逐渐下降到 0.42，表明客户流失随着时间的推移而增加。</p>
</li>
<li><p><strong>平均期望月利润下降</strong>：由于存活概率的降低，客户平均每月可带来的期望利润也逐步减少，从 30 降到 12.6。</p>
</li>
<li><p><strong>净现值（NPV）随时间增长但增速放缓</strong>：累积 NPV 从 30 增长到 415.76，但增幅随时间推移逐渐变缓，表明随着客户流失，长期收益受到影响。</p>
</li>
<li><p><strong>客户流失影响长期收益</strong>：尽管每月利润固定，但因流失率较高，长周期客户的累计利润贡献降低，因此提高客户留存率对长期收益至关重要。</p>
</li>
</ul>
<h4 class="atx" id="npv-图表">NPV 图表</h4>
<img width="500" src="Picture/7.png">

<img width="500" src="Picture/8.png">

<p>从图中可以看出，尽管累积 NPV 随时间增长，但增长速率逐渐放缓。这是由于随着时间的推移，存活的客户数量减少，导致未来现金流的折现值逐步降低。在后期，随着存活概率下降，NPV 增长曲线趋于平稳，说明客户流失对企业的长期收益产生较大影响。因此，提高客户留存率（如优化服务质量、提供长期激励）对于维持持续增长至关重要。</p>
<h3 class="atx" id="总结">总结</h3>
<p>本分析使用来自 IBM 的模拟电信公司数据集，每条记录代表一位订户，包含人口统计、服务计划、媒体使用及订阅状态等信息。研究重点在于客户的服务期限和流失情况，以评估影响客户生命周期的关键因素。采用 Kaplan-Meier 估计与对数秩检验分析不同客户群体的生存概率，利用 Cox 比例风险模型衡量各因素对客户流失的影响，并通过加速失效时间（AFT）模型评估变量对客户生命周期的作用。最终，生存分析结果被用于计算客户终身价值（CLV），为业务优化和客户管理提供数据支持。</p>
</article>
  
</body>
</html>